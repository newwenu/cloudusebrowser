# Cloudflare Workers æµè§ˆå™¨éƒ¨ç½²æŒ‡å—

## é¡¹ç›®ä»‹ç»
è¿™æ˜¯ä¸€ä¸ªåŸºäºCloudflare Workersçš„äº‘ç«¯æµè§ˆå™¨ï¼Œé€šè¿‡ä»£ç†æ–¹å¼è®¿é—®ç½‘é¡µå†…å®¹ï¼Œæ— éœ€å®‰è£…ä»»ä½•è½¯ä»¶å³å¯ä½¿ç”¨ã€‚

## åŠŸèƒ½ç‰¹æ€§
- ğŸŒ åŸºäºCloudflare Workersçš„å…¨çƒCDN
- ğŸ”’ å®‰å…¨çš„ä»£ç†è®¿é—®
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨è®¾å¤‡
- âš¡ å¿«é€ŸåŠ è½½å’Œç¼“å­˜
- ğŸ¯ æ”¯æŒä»»æ„ç½‘ç«™è®¿é—®
- ğŸ¨ ç°ä»£åŒ–ç•Œé¢è®¾è®¡

## éƒ¨ç½²æ­¥éª¤

### 1. å‡†å¤‡å·¥ä½œ
- æ³¨å†ŒCloudflareè´¦å·ï¼šhttps://dash.cloudflare.com/sign-up
- å®‰è£…Wrangler CLIï¼š
```bash
npm install -g wrangler
```

### 2. ç™»å½•Cloudflare
```bash
wrangler login
```

### 3. åˆ›å»ºWorkersé¡¹ç›®
```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp package-cloudflare.json package.json
cp cloudflare-browser.js index.js

# å®‰è£…ä¾èµ–
npm install
```

### 4. æœ¬åœ°æµ‹è¯•
```bash
wrangler dev
```
è®¿é—® http://localhost:8787 æµ‹è¯•æµè§ˆå™¨åŠŸèƒ½

### 5. éƒ¨ç½²åˆ°äº‘ç«¯
```bash
wrangler deploy
```

### 6. è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰
1. åœ¨Cloudflare Dashboardä¸­æ·»åŠ è‡ªå®šä¹‰åŸŸå
2. ä¿®æ”¹ `wrangler.toml` ä¸­çš„routesé…ç½®ï¼š
```toml
routes = [
  { pattern = "browser.yourdomain.com/*", zone_name = "yourdomain.com" }
]
```
3. é‡æ–°éƒ¨ç½²ï¼š
```bash
wrangler deploy
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨
1. è®¿é—®éƒ¨ç½²åçš„URLï¼ˆå¦‚ï¼šhttps://your-worker.your-subdomain.workers.devï¼‰
2. åœ¨åœ°å€æ è¾“å…¥è¦è®¿é—®çš„ç½‘å€
3. ç‚¹å‡»"å‰å¾€"æˆ–ä½¿ç”¨å›è½¦é”®åŠ è½½é¡µé¢

### å¿«æ·é”®
- `Ctrl+L`ï¼šèšç„¦åœ°å€æ 
- `Ctrl+R`ï¼šåˆ·æ–°é¡µé¢
- `Alt+â†`ï¼šåé€€
- `Alt+â†’`ï¼šå‰è¿›
- `Enter`ï¼šåœ¨åœ°å€æ æŒ‰å›è½¦è®¿é—®ç½‘é¡µ

### è®¾ç½®é€‰é¡¹
- æ·±è‰²æ¨¡å¼ï¼šåˆ‡æ¢ç•Œé¢ä¸»é¢˜
- ç§»åŠ¨æ¨¡å¼ï¼šæ¨¡æ‹Ÿç§»åŠ¨è®¾å¤‡æµè§ˆ

## æ³¨æ„äº‹é¡¹

### 1. å®‰å…¨é™åˆ¶
- æŸäº›ç½‘ç«™å¯èƒ½é˜»æ­¢ä»£ç†è®¿é—®
- ä¸æ”¯æŒJavaScripté‡å®šå‘çš„å¤æ‚ç½‘ç«™
- éƒ¨åˆ†HTTPSç½‘ç«™å¯èƒ½æœ‰è¯ä¹¦é—®é¢˜

### 2. æ€§èƒ½ä¼˜åŒ–
- Cloudflare Workersæœ‰æ¯æ—¥è¯·æ±‚é™åˆ¶ï¼ˆå…è´¹ç‰ˆ10ä¸‡æ¬¡/å¤©ï¼‰
- å¤§æ–‡ä»¶ä¸‹è½½å¯èƒ½å—é™
- å»ºè®®å¯ç”¨Cloudflareç¼“å­˜æé«˜æ€§èƒ½

### 3. æ³•å¾‹åˆè§„
- è¯·éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„
- ä¸è¦ç”¨äºè®¿é—®è¿æ³•å†…å®¹
- å°Šé‡ç½‘ç«™robots.txtè§„åˆ™

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **éƒ¨ç½²å¤±è´¥**ï¼šæ£€æŸ¥wrangleré…ç½®æ˜¯å¦æ­£ç¡®
2. **ç½‘ç«™æ— æ³•è®¿é—®**ï¼šç¡®è®¤ç›®æ ‡ç½‘ç«™æ˜¯å¦å…è®¸ä»£ç†
3. **æ ·å¼é”™ä¹±**ï¼šæŸäº›ç½‘ç«™å¯èƒ½æœ‰é˜²ä»£ç†æªæ–½

### è°ƒè¯•æ–¹æ³•
```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
wrangler tail

# æœ¬åœ°è°ƒè¯•
wrangler dev --log-level debug
```

## é¡¹ç›®ç»“æ„
```
cloudflare-browser/
â”œâ”€â”€ cloudflare-browser.js    # ä¸»Workersè„šæœ¬
â”œâ”€â”€ wrangler.toml            # Cloudflareé…ç½®
â”œâ”€â”€ package-cloudflare.json  # ä¾èµ–é…ç½®
â””â”€â”€ CLOUDFLARE_DEPLOY.md     # éƒ¨ç½²æŒ‡å—
```

## æ›´æ–°å’Œç»´æŠ¤
1. ä¿®æ”¹ä»£ç åé‡æ–°éƒ¨ç½²ï¼š
```bash
wrangler deploy
```
2. ç›‘æ§ä½¿ç”¨æƒ…å†µï¼š
```bash
wrangler tail
```

## æŠ€æœ¯æ”¯æŒ
- Cloudflare Workersæ–‡æ¡£ï¼šhttps://developers.cloudflare.com/workers/
- Wrangler CLIæ–‡æ¡£ï¼šhttps://developers.cloudflare.com/workers/wrangler/
- é¡¹ç›®Issuesï¼šåœ¨GitHubä¸Šæäº¤é—®é¢˜

## å…è´¹é¢åº¦
- æ¯æ—¥è¯·æ±‚ï¼š100,000æ¬¡
- CPUæ—¶é—´ï¼š30ç§’/è¯·æ±‚
- å†…å­˜ï¼š128MB
- ç½‘ç»œï¼š100GB/æœˆ

## é«˜çº§é…ç½®
å¦‚éœ€æ›´é«˜çº§çš„åŠŸèƒ½ï¼ˆå¦‚ç”¨æˆ·è®¤è¯ã€è®¿é—®æ—¥å¿—ã€ç¼“å­˜ç­–ç•¥ç­‰ï¼‰ï¼Œå¯ä»¥æ‰©å±•Workersè„šæœ¬ã€‚